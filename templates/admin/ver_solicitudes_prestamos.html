{% extends "base.html" %}

{% block title %}Solicitudes de Pr√©stamos{% endblock %}

{% block content %}
<link rel="stylesheet" href="{{ url_for('static', filename='styless/admin/ver_solicitudes_prestamos.css') }}">

<div class="prestamos-wrapper">
  <h1 class="titulo-principal">üìÑ Solicitudes de Pr√©stamos</h1>

  <p class="mensaje-bienvenida">
    Aqu√≠ puedes revisar todas las solicitudes de pr√©stamos realizadas por los usuarios.<br>
    Revisa los detalles y toma una decisi√≥n informada.
  </p>

  <table class="tabla-prestamos">
    <thead>
      <tr>
        <th>ID</th>
        <th>Usuario</th>
        <th>Monto</th>
        <th>Meses</th>
        <th>Inter√©s</th>
        <th>Cuota</th>
        <th>Estado</th>
        <th>Fecha</th>
        <th>Acciones</th>
      </tr>
    </thead>
    <tbody>
      {% for prestamo in prestamos %}
        <tr>
          <td>{{ prestamo.id }}</td>
          <td>{{ prestamo.usuario }}</td>
          <td>{{ prestamo.monto }}</td>
          <td>{{ prestamo.meses }}</td>
          <td>{{ prestamo.interes }}</td>
          <td>{{ prestamo.cuota }}</td>
          <td class="estado {{ prestamo.estado | lower }}">{{ prestamo.estado }}</td>
          <td>{{ prestamo.fecha }}</td>
          <td>
            {% if prestamo.estado == 'Pendiente' %}
              <a href="{{ url_for('admin.aprobar_prestamo', id=prestamo.id) }}" class="btn aprobar">Aprobar</a>
              <a href="{{ url_for('admin.rechazar_prestamo', id=prestamo.id) }}" class="btn rechazar">Rechazar</a>
            {% else %}
              {{ prestamo.estado }}
            {% endif %}
          </td>
        </tr>
      {% endfor %}
    </tbody>
  </table>

  <div class="botones-footer">
    <a href="{{ url_for('admin.admin_home') }}" class="btn-volver">‚Üê Volver al Panel</a>
  </div>
</div>
{% endblock %}
